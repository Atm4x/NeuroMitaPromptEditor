/* ───────── базовые переменные ───────── */
:root {
  --ea-gutter-width: 50px;
  --ea-hpad: 15px;              /* привычный горизонтальный отступ текста */
}

/* ───────── контейнер редактора ───────── */
.editorContainer{
  position:relative;
  width:100%;
  height:100%;
  overflow:hidden;
}

/* ───────── gutter (первый <pre>) ───────── */
.editorContainer pre[aria-hidden='true']:first-child {
  position: absolute;
  inset: 0 auto 0 0;            /* top:0; left:0; height:100% */
  width: var(--ea-gutter-width);
  padding: var(--ea-hpad) 6px 0 0; /* верх + правый mini-gap */
  margin: 0;
  box-sizing: border-box;
  text-align: right;
  background: var(--bg-editor);
  color: var(--sh-linenumber, #606060);
  user-select: none;
  pointer-events: none;
  overflow: hidden;             /* gutter не скроллится сам */
  transform: translateY(0);     /* значение задаёт JS */
  z-index: 0;                   /* ← самый нижний слой */
}

/* ───────── overlay подсветки (второй <pre>) ───────── */
.editorContainer pre[aria-hidden='true']:not(:first-child) {
  position: absolute;
  inset: 0 0 0 var(--ea-gutter-width);      /* примыкаем к textarea */
  width: calc(100% - var(--ea-gutter-width));
  height: 100%;
  margin: 0;
  padding: 0;                   /* убрали горизонтальный padding */
  box-sizing: border-box;
  background: var(--bg-editor);
  color: var(--sh-default);
  pointer-events: none;
  overflow: hidden;             /* собственных скроллбаров нет */
  transform: translateY(0);     /* синхронизируется JS-ом */
  white-space: pre;
  z-index: 1;                   /* ← средний слой */
  pointer-events: none;         /* не перехватывает клики/колёсико */
}

/* внутренний code — добавляем левый/правый отступ */
.editorContainer pre[aria-hidden='true']:not(:first-child) code {
  display: block;
  padding: 0 var(--ea-hpad);
  white-space: pre;
}

/* ───────── textarea ───────── */
.editorContainer textarea {
  position: absolute;
  inset: 0 0 0 var(--ea-gutter-width);      /* ровно над overlay */
  width: calc(100% - var(--ea-gutter-width));
  height: 100%;
  padding: 0 var(--ea-hpad);
  margin: 0;
  box-sizing: border-box;

  font: inherit;
  line-height: inherit;
  tab-size: inherit;
  background: transparent;
  color: transparent;           /* текст рисует overlay */
  caret-color: var(--text-primary);
  border: none;
  resize: none;
  outline: none;
  overflow: auto;               /* единственный скроллбар */
  white-space: pre;
  z-index: 2;                   /* ← верхний, получает все события */
}